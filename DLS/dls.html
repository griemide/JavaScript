<!DOCTYPE html>
<!--
(c)2016, Michael W. Gries
creation date: 2016-09-22
last modified: 2016-09-28 (also update Copyright comment at EOF)
//-->
<html manifest="cache.manifest" >
<head>
    <title id="WebsiteTitle">DLS Auftragsdaten CSV</title>
    <link rel="shortcut icon" type="image/x-icon" href="../../faviconPAYcol.ico" />
    <link rel="apple-touch-icon-precomposed" href="../../VeriFone114x114.png" />
    <link rel="apple-touch-startup-image" href="H5000_320x460.jpg" /> 
    <link href="http://www.gries.name/Michael/home.css" rel="stylesheet" media="screen" type="text/css" />
    <meta name="author" content="Michael Gries" />
    <meta name="robots" content="noindex, nofollow" /> 
    <meta http-equiv="expires" content="0" />
    <meta name="apple-mobile-web-app-capable" content="yes" /> 
    <meta name="apple-mobile-web-app-status-bar-style" content="translucent black" />
    <script src="decoder.js" type="text/javascript"> </script>
    <script src="sprintf.js" type="text/javascript"> </script>
</head>
<body>
    <h2>Project DLC Decoder</h2>
        <p >DLS Auftragsdaten (CSV-Datei)</p>
    <h3>Auftragsdaten anzeigen (Auswahl CSV-Datei)</h3>
    <input type="file" name="file" id="file" size="100">
    <script type="text/javascript">
		var tabs;
        document.getElementById('file').onchange = function(){
            var file = this.files[0];
            var reader = new FileReader();
            reader.onload = function(progressEvent){
                // Entire file
                console.log(this.result);
                // By lines
                var line01 = [];
                var line02 = [];
                var line03 = [];
                // assuming 3 lines
                //var lines = this.result.split('\n');
                //lines.map(function(item){
                    tabs = this.result.split('\t');
                    console.log(
					"\n 1", "OrderNo                 :", tabs[0], 
					"\n 2", "Factory                 :", tabs[1],
					"\n 3", "MaterialNo              :", tabs[2],
					"\n 4", "MaterialText            :", tabs[3],
					"\n 5", "TotalCount              :", tabs[4],
					"\n 6", "Version                 :", tabs[5],
					"\n 7", "Lot                     :", tabs[6],
					"\n 8", "CustomerLot             :", tabs[7],
					"\n 9", "FormatManufacturingDate :", tabs[8],
					"\n10", "FormatExpiryDate        :", tabs[9],
					"\n11", "LabelsPerReel           :", tabs[10],
					"\n12", "RawMaterial             :", tabs[11],
					"\n13", "LabelType               :", tabs[12],
					"\n14", "Pharmacode              :", tabs[13],
					"\n15", "EANCode                 :", tabs[14],
					"\n16", "DataMatrixPrint         :", tabs[15],
					"\n17", "ManufacturingDate       :", tabs[16],
					"\n18", "ExpiryDate              :", tabs[17],
					"\n19", "PackingOrder            :", tabs[18],
					"\n20", "RegulatoryUnit          :", tabs[19],
					"\n21", "TrackAndTraceRelevance  :", tabs[20],
					"\n22", "                        :", tabs[21],
					"\n23", "                        :", tabs[22]
					);
					//show_elements();
					//document.getElementById("Div0").style.visibility='visible';
					document.getElementById("Div00").innerHTML = " 1 " + "OrderNo                 :" + tabs[0];
					document.getElementById("Div01").innerHTML = " 2 " + "Factory                 :" + tabs[1];
					document.getElementById("Div02").innerHTML = " 3 " + "MaterialNo              :" + tabs[2];
					document.getElementById("Div03").innerHTML = " 4 " + "MaterialText            :" + tabs[3];
					document.getElementById("Div04").innerHTML = " 5 " + "TotalCount              :" + tabs[4];
					document.getElementById("Div05").innerHTML = " 6 " + "Version                 :" + tabs[5];
					document.getElementById("Div06").innerHTML = " 7 " + "Lot                     :" + tabs[6];
					document.getElementById("Div07").innerHTML = " 8 " + "CustomerLot             :" + tabs[7];
					document.getElementById("Div08").innerHTML = " 9 " + "FormatManufacturingDate :" + tabs[8];
					document.getElementById("Div09").innerHTML = "10 " + "FormatExpiryDate        :" + tabs[9];
					document.getElementById("Div10").innerHTML = "11 " + "LabelsPerReel           :" + tabs[10];
					document.getElementById("Div11").innerHTML = "12 " + "RawMaterial             :" + tabs[11];
					document.getElementById("Div12").innerHTML = "13 " + "LabelType               :" + tabs[12];
					document.getElementById("Div13").innerHTML = "14 " + "Pharmacode              :" + tabs[13];
					document.getElementById("Div14").innerHTML = "15 " + "EANCode                 :" + tabs[14];
					document.getElementById("Div15").innerHTML = "16 " + "DataMatrixPrint         :" + tabs[15];
					document.getElementById("Div16").innerHTML = "17 " + "ManufacturingDate       :" + tabs[16];
					document.getElementById("Div17").innerHTML = "18 " + "ExpiryDate              :" + tabs[17];
					document.getElementById("Div18").innerHTML = "19 " + "PackingOrder            :" + tabs[18];
					document.getElementById("Div19").innerHTML = "20 " + "RegulatoryUnit          :" + tabs[19];
					document.getElementById("Div20").innerHTML = "21 " + "TrackAndTraceRelevance  :" + tabs[20];
					document.getElementById("Div21").innerHTML = "22 " + "                        :" + tabs[21];
					document.getElementById("Div22").innerHTML = "23 " + "                        :" + tabs[22];
                    //line01.push(tabs[0]);
                    //line02.push(tabs[1]);
                    //line03.push(tabs[2]);
                    //}
                //);
                // test two of the arrays after reading:
                // for (var i = 0; i < 3; i++) {
                //    console.log(line01[i], line02[i]);
                // };
            };
            reader.readAsText(file);
        };
    </script>
	
	<br><output id="list">Ausgewählte Datei: </output>
<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate.toLocaleDateString(), '</li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + "Ausgewählte Datei: " + output.join('') + '</ul>';
  }

  document.getElementById('file').addEventListener('change', handleFileSelect, false);
</script>


    <h3  id="Decode" title="DLC Auftragsdaten" >Decoded Datagram</h3>
    <div id="DecodeBlock" style="align:center; border: solid none lightgrey; text-align:left; max-width:620px;" >
        <div id="Header" title="Bezeichnung" style="font-family:Courier,monospace; font-weight: bold; "> #  Symbol                 : Definition</div>
        <div id="Div00"  title="[1]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div01"  title="[2]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div02"  title="[3]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div03"  title="[4]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div04"  title="[5]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div05"  title="[6]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div06"  title="[7]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div07"  title="[8]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div08"  title="[9]"    style="font-family:Courier,monospace" >...</div>
        <div id="Div09"  title="[10]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div10"  title="[11]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div11"  title="[12]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div12"  title="[13]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div13"  title="[14]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div14"  title="[GTIN}" style="font-family:Courier,monospace" >...</div>
        <div id="Div15"  title="[16]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div16"  title="[17]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div17"  title="[18]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div18"  title="[19]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div19"  title="[20]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div20"  title="[21]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div21"  title="[22]"   style="font-family:Courier,monospace" >...</div>
        <div id="Div22"  title="[23]"   style="font-family:Courier,monospace" >...</div>
        <div id="Footer" title="Footnote" style="font-family:Courier,monospace; font-weight: bold; "> EOF<br><br></div>
    </div><!--Ende #DecodeBlock-->


    <div id="Legend" title="Rev.A00" style="font-family:Arial; font-size: xx-small; color: #808080;" > </div>

    <div id="Copyright" >
        <span title="Creation date 2016-09-22" >&copy; </span>
        <span title="Last modified 2016-09-28" >2016, </span>
        <span title="4-2-2 (griemide)" >Michael Gries, </span>
        <span title="Phone +49 5661 71 1642" >-1642, </span>
        <span title="michael.gries@bbraun.com" >B.Braun Melsungen AG</span>
    </div>

    <h3  id="Tools" title="References" style="visibility: hidden;">Tools</h3>
        <a id="RefJS" title="Javascript Reference" accesskey="J" style="visibility: hidden;" target="_blank"
           href="http://www.w3schools.com/jsref/default.asp" >
           w3schools - Javascript Reference</a>
    <br />


</body>
</html>